# [기획 초안] ImFine (가칭) - 삶의 기록과 사후 메시지 서비스

이 문서는 사용자가 제안한 아이디어를 바탕으로 어플리케이션의 핵심 가치, 주요 기능, 그리고 기술적 방향성을 정리한 기획서입니다.

## 1. 프로젝트 개요
- **어플 명칭:** **ImFine** (이중적 의미: **IF** & **Im Fine**)
- **브랜드 아이덴티티:**
    - **로고/아이콘:** 'IF'의 유려한 **필기체(Cursive)** 디자인 활용.
    - **스플래시 애니메이션:** 필기체 'IF'가 궤적을 그리며 적어지는 모션 -> 확장되며 'Im Fine' 완성 -> 메인 화면 진입.
- **브랜드 스토리:** 
- **핵심 모토:** "만약의 순간을 위한 준비, 오늘의 나를 위한 기록."

## 2. 사용자 흐름 (Core User Flow)

### 1단계: 진입 및 기분 기록 (Daily Entry Modal)
- **트리거:** 앱 실행 시 당일 기록이 없으면 자동으로 모달 팝업.
- **기록 요소:** 
    - **오늘의 기분:** 이모티콘 선택.
    - **오늘의 한마디:** 짧은 일기 작성 (선택 사항).
    - **공유 설정:** 익명 피드 공유 여부 선택.
- **연동:** 기록 시 'Safety Check' 자동 연장 및 **해당 기분 카테고리 피드로 자동 매칭**.

### 2단계: 메인 피드 (Main Feed)
- **개인화 피드:** 사용자가 선택한 기분과 유사한 카테고리의 익명 글들이 X/Threads 스타일로 노출.
- **소통 및 채택:** 
    - 댓글로 위로와 조언을 주고받음.
    - 질문자가 도움이 된 댓글을 **'채택'**하면 답변자에게 포인트 증정.
    - 전문가(인증된 전문의/변호사)는 프로필을 노출하며 전문 답변 제공.

### 3단계: 마음 보관함 (Heart Box)
- **명칭:** '유산/사후' 등 무거운 표현 대신 '마음 보관함'으로 순화.
- **기능:** 소중한 사람들에게 보낼 예약 메시지 관리 (텍스트/영상).
- **트리거:** 미접속 시 사전에 설정된 일정에 따라 부드러운 안부 알림 후 자동 발송.

## 3. 수익 모델 (Monetization Strategy)

### 무료 플랜 (Basic)
- **신규 가입:** 웰컴 포인트 지급.
- **예약 메시지:** 최대 1명 발송 가능 (텍스트).
- **소통:** 피드 이용 및 기분 기반 매칭.

### 프리미엄 구독 (Premium)
- **플랜 A (상담형):** AI 자동 코칭 + 기본 전문가 상담권.
- **플랜 B (무제한):** 무제한 전문가 1:1 채팅 상담 + 영상 일기 보관함 제공.
- **공통 혜택:** 무제한 사후 메시지 예약, 포인트 환전 수수료 우대.

## 4. 회원가입 및 보안 정책
- **간편 가입:** Apple, Google, Kakao 지원.
- **본인 인증:** 포인트 환전 시점에만 정밀 본인 인증 진행.

## 5. 데이터 모델 설계 (Data Schema - Supabase)

### Users (사용자)
- `id`: Unique ID (UUID)
- `email`: 계정 확인용 (비공개)
- `role`: [USER, EXPERT, ADMIN]
- `subscription_tier`: [FREE, PREMIUM_A, PREMIUM_B]
- `last_activity_at`: 마지막 앱 접속일 (Heart Box 트리거용)
- `points`: 현재 보유 포인트 잔액

### FeedPosts (익명 피드)
- `id`: Unique ID
- `user_id`: 작성자 ID (조회 시 익명 처리)
- `mood_tag`: [HAPPY, SAD, ANGRY, CALM 등] - 매칭 필터용
- `content`: 일기/고민 내용
- `is_shared`: 익명 피드 공유 여부 (Boolean)
- `created_at`: 작성일

### HeartBoxMessages (마음 보관함 메시지)
- `id`: Unique ID
- `user_id`: 작성자 ID
- `recipient_info`: 수신자 연락처 및 이름
- `content_type`: [TEXT, VIDEO]
- `media_path`: Supabase Storage 저장 경로 (영상 전용)
- `send_at`: 발송 예정일 (Inactivity 판단 후 결정)
- `status`: [PENDING, SENT, CANCELED]

### PointTransactions (포인트 트랜잭션)
- `id`: Unique ID
- `user_id`: 대상 사용자
- `amount`: 증감 포인트
- `type`: [EARN_ADOPTION, SPEND_CONSULT, CASH_OUT 등]
- `description`: 상세 내역

---

## 6. 최종 기술 스택 (Technical Stack)
- **Frontend:** React Native (Expo)
- **Backend/Infra:** Supabase (Auth, DB, Storage, Edge Functions)
- **Hosting:** Vercel (Admin & Web)
- **Monitoring:** Sentry & Google Analytics
